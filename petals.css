/* Contenedor de pétalos */
.petal-field {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 2; /* sobre MONO, debajo/igual del contenido */
  overflow: hidden;
}

/* Base de cada pétalo */
.petal {
  position: absolute;
  top: -10vh;
  left: 50%;
  width: 14px;
  height: 22px;
  opacity: .9;
  transform-origin: center;
  /* forma lágrima */
  background: linear-gradient(180deg, #ffd077, #f7b84c 60%, #e69a2c 100%);
  clip-path: polygon(50% 0%, 62% 16%, 70% 34%, 74% 54%, 70% 74%, 60% 88%, 50% 100%, 40% 88%, 30% 74%, 26% 54%, 30% 34%, 38% 16%);
  border-radius: 10px;
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.2));
  animation:
    fall var(--fall, 13s) linear var(--delay, 0s) infinite,
    sway var(--sway, 5.5s) ease-in-out var(--delay, 0s) infinite;
}

/* Animaciones */
@keyframes fall {
  from { transform: translate3d(var(--x, 0px), -12vh, 0) rotateZ(0deg); }
  to   { transform: translate3d(var(--x, 0px), 112vh, 0) rotateZ(360deg); }
}
@keyframes sway {
  0%   { --x: -20px; }
  50%  { --x:  20px; }
  100% { --x: -20px; }
}

/* Variaciones por pétalo (posición, tamaño, duración y retraso) */
.petal:nth-child(odd)   { opacity: .85; }
.petal:nth-child(even)  { opacity: .95; }

:root { /* duraciones medias (velocidad media) */
  --durA: 12s; --durB: 14s; --durC: 16s; --durD: 18s;
  --swayA: 5s; --swayB: 6s; --swayC: 7s;
}

.petal:nth-child(1)  { left: 5%;  transform: scale(.9);  --fall: var(--durA); --sway: var(--swayB); --delay: .0s; }
.petal:nth-child(2)  { left: 12%; transform: scale(.8);  --fall: var(--durB); --sway: var(--swayA); --delay: 1.2s; }
.petal:nth-child(3)  { left: 18%; transform: scale(.7);  --fall: var(--durC); --sway: var(--swayC); --delay: .6s; }
.petal:nth-child(4)  { left: 25%; transform: scale(1.0); --fall: var(--durA); --sway: var(--swayA); --delay: 2.0s; }
.petal:nth-child(5)  { left: 30%; transform: scale(.9);  --fall: var(--durD); --sway: var(--swayB); --delay: .8s; }
.petal:nth-child(6)  { left: 36%; transform: scale(.7);  --fall: var(--durB); --sway: var(--swayC); --delay: 1.6s; }
.petal:nth-child(7)  { left: 42%; transform: scale(.85); --fall: var(--durC); --sway: var(--swayA); --delay: .4s; }
.petal:nth-child(8)  { left: 48%; transform: scale(1.1); --fall: var(--durA); --sway: var(--swayB); --delay: 2.4s; }
.petal:nth-child(9)  { left: 54%; transform: scale(.9);  --fall: var(--durD); --sway: var(--swayC); --delay: .2s; }
.petal:nth-child(10) { left: 60%; transform: scale(.75); --fall: var(--durB); --sway: var(--swayA); --delay: 1.0s; }
.petal:nth-child(11) { left: 66%; transform: scale(.9);  --fall: var(--durC); --sway: var(--swayB); --delay: 1.8s; }
.petal:nth-child(12) { left: 72%; transform: scale(1.05);--fall: var(--durA); --sway: var(--swayC); --delay: .5s; }
.petal:nth-child(13) { left: 78%; transform: scale(.8);  --fall: var(--durD); --sway: var(--swayA); --delay: 2.2s; }
.petal:nth-child(14) { left: 84%; transform: scale(.9);  --fall: var(--durB); --sway: var(--swayB); --delay: .9s; }
.petal:nth-child(15) { left: 90%; transform: scale(.7);  --fall: var(--durC); --sway: var(--swayC); --delay: 1.4s; }
/* 15 más con combinaciones */
.petal:nth-child(16) { left: 8%;  transform: scale(.95); --fall: var(--durD); --sway: var(--swayB); --delay: 2.8s; }
.petal:nth-child(17) { left: 14%; transform: scale(.85); --fall: var(--durB); --sway: var(--swayA); --delay: .3s; }
.petal:nth-child(18) { left: 20%; transform: scale(.75); --fall: var(--durC); --sway: var(--swayC); --delay: 1.1s; }
.petal:nth-child(19) { left: 26%; transform: scale(1.1); --fall: var(--durA); --sway: var(--swayB); --delay: .7s; }
.petal:nth-child(20) { left: 32%; transform: scale(.9);  --fall: var(--durD); --sway: var(--swayC); --delay: 1.9s; }
.petal:nth-child(21) { left: 38%; transform: scale(.8);  --fall: var(--durB); --sway: var(--swayA); --delay: 2.6s; }
.petal:nth-child(22) { left: 44%; transform: scale(.95); --fall: var(--durC); --sway: var(--swayB); --delay: .1s; }
.petal:nth-child(23) { left: 50%; transform: scale(.7);  --fall: var(--durA); --sway: var(--swayC); --delay: 1.3s; }
.petal:nth-child(24) { left: 56%; transform: scale(1.05);--fall: var(--durD); --sway: var(--swayA); --delay: 2.1s; }
.petal:nth-child(25) { left: 62%; transform: scale(.85); --fall: var(--durB); --sway: var(--swayB); --delay: .4s; }
.petal:nth-child(26) { left: 68%; transform: scale(.75); --fall: var(--durC); --sway: var(--swayC); --delay: 1.7s; }
.petal:nth-child(27) { left: 74%; transform: scale(.9);  --fall: var(--durA); --sway: var(--swayA); --delay: .6s; }
.petal:nth-child(28) { left: 80%; transform: scale(1.0); --fall: var(--durD); --sway: var(--swayB); --delay: 2.5s; }
.petal:nth-child(29) { left: 86%; transform: scale(.8);  --fall: var(--durB); --sway: var(--swayC); --delay: 1.5s; }
.petal:nth-child(30) { left: 92%; transform: scale(.95); --fall: var(--durC); --sway: var(--swayA); --delay: .2s; }

/* En móviles: reducir densidad a ~18 pétalos para rendimiento */
@media (max-width: 480px) {
  .petal:nth-child(n+19) { display: none; }
}
